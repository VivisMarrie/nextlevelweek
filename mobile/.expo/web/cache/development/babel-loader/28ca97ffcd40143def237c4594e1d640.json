{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Viviane\\\\Documents\\\\dev\\\\nextlevelweek\\\\mobile\\\\src\\\\pages\\\\Points\\\\index.tsx\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Constants from \"expo-constants\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport api from \"../../services/api\";\n;\n\nvar Points = function Points() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      items = _useState2[0],\n      setItems = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectedItems = _useState4[0],\n      setSelectedItems = _useState4[1];\n\n  var _useState5 = useState([0, 0]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      initialPosition = _useState6[0],\n      setInitialPosition = _useState6[1];\n\n  var navigation = useNavigation();\n  useEffect(function () {\n    api.get('items').then(function (response) {\n      console.log(response.data);\n      setItems(response.data);\n    });\n  }, []);\n\n  function handleSelectItem(id) {\n    var alreadySelected = selectedItems.findIndex(function (item) {\n      return item === id;\n    });\n\n    if (alreadySelected >= 0) {\n      var filtereditems = selectedItems.filter(function (item) {\n        return item !== id;\n      });\n      setSelectedItems(filtereditems);\n    } else {\n      setSelectedItems([].concat(_toConsumableArray(selectedItems), [id]));\n    }\n  }\n\n  function handleBack() {\n    navigation.goBack();\n  }\n\n  function handleToDetail() {\n    navigation.navigate(\"Detail\");\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: styles.itemsContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingHorizontal: 32,\n    paddingTop: 20 + Constants.statusBarHeight\n  },\n  title: {\n    fontSize: 20,\n    fontFamily: \"Ubuntu_700Bold\",\n    marginTop: 24\n  },\n  description: {\n    color: \"#6C6C80\",\n    fontSize: 16,\n    marginTop: 4,\n    fontFamily: \"Roboto_400Regular\"\n  },\n  mapContainer: {\n    flex: 1,\n    width: \"100%\",\n    borderRadius: 10,\n    overflow: \"hidden\",\n    marginTop: 16\n  },\n  map: {\n    width: \"100%\",\n    height: \"100%\"\n  },\n  mapMarker: {\n    width: 90,\n    height: 80\n  },\n  mapMarkerContainer: {\n    width: 90,\n    height: 70,\n    backgroundColor: \"#34CB79\",\n    flexDirection: \"column\",\n    borderRadius: 8,\n    overflow: \"hidden\",\n    alignItems: \"center\"\n  },\n  mapMarkerImage: {\n    width: 90,\n    height: 45,\n    resizeMode: \"cover\"\n  },\n  mapMarkerTitle: {\n    flex: 1,\n    fontFamily: \"Roboto_400Regular\",\n    color: \"#FFF\",\n    fontSize: 13,\n    lineHeight: 23\n  },\n  itemsContainer: {\n    flexDirection: \"row\",\n    marginTop: 16,\n    marginBottom: 32\n  },\n  item: {\n    backgroundColor: \"#fff\",\n    borderWidth: 2,\n    borderColor: \"#eee\",\n    height: 120,\n    width: 120,\n    borderRadius: 8,\n    paddingHorizontal: 16,\n    paddingTop: 20,\n    paddingBottom: 16,\n    marginRight: 8,\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    textAlign: \"center\"\n  },\n  selectedItem: {\n    borderColor: \"#34CB79\",\n    borderWidth: 2\n  },\n  itemTitle: {\n    fontFamily: \"Roboto_400Regular\",\n    textAlign: \"center\",\n    fontSize: 13\n  }\n});\nexport default Points;","map":{"version":3,"sources":["C:/Users/Viviane/Documents/dev/nextlevelweek/mobile/src/pages/Points/index.tsx"],"names":["React","useState","useEffect","Constants","useNavigation","api","Points","items","setItems","selectedItems","setSelectedItems","initialPosition","setInitialPosition","navigation","get","then","response","console","log","data","handleSelectItem","id","alreadySelected","findIndex","item","filtereditems","filter","handleBack","goBack","handleToDetail","navigate","styles","container","itemsContainer","StyleSheet","create","flex","paddingHorizontal","paddingTop","statusBarHeight","title","fontSize","fontFamily","marginTop","description","color","mapContainer","width","borderRadius","overflow","map","height","mapMarker","mapMarkerContainer","backgroundColor","flexDirection","alignItems","mapMarkerImage","resizeMode","mapMarkerTitle","lineHeight","marginBottom","borderWidth","borderColor","paddingBottom","marginRight","justifyContent","textAlign","selectedItem","itemTitle"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, Image, Alert } from \"react-native\";\r\nimport Constants from \"expo-constants\";\r\nimport { Feather as Icon } from \"@expo/vector-icons\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport MapView, { Marker } from \"react-native-maps\";\r\nimport { SvgUri } from \"react-native-svg\";\r\nimport * as Location from 'expo-location'\r\nimport api from '../../services/api';\r\n\r\ninterface Item {\r\n  id: number;\r\n  name: string;\r\n  image_url: string;\r\n};\r\n\r\n/*interface Point {\r\n  id: number;\r\n  name: string;\r\n  image_url: string;\r\n  lat: number;\r\n  lgt: number;\r\n};*/\r\n\r\n\r\nconst Points = () => {\r\n  const [items, setItems] = useState<Item[]>([]);  \r\n  const [selectedItems, setSelectedItems] = useState<number[]>([]);\r\n  const [initialPosition, setInitialPosition] = useState<[number, number]>([0,0]);\r\n // const [points, setPoints] = useState<Point[]>([]);\r\n\r\n  const navigation = useNavigation();\r\n/*\r\n  useEffect(() => {\r\n    async function loadPosition(){\r\n      const {status} = await Location.requestPermissionsAsync();\r\n      if(status !=='granted'){\r\n        Alert.alert(\"Alerta\", \"Precisamos da permissão de localização\");\r\n        return;\r\n      }\r\n      const location = await Location.getCurrentPositionAsync();\r\n\r\n      const { latitude, longitude} = location.coords;\r\n\r\n      setInitialPosition([latitude, longitude]);\r\n    }\r\n\r\n    loadPosition();\r\n\r\n  }, []);*/\r\n\r\n  /*useEffect(() => {\r\n    api.get('points', {\r\n      params: {\r\n        city: 'SP',\r\n        uf: 'SP',\r\n        items: [1,2]\r\n      }\r\n    }).then( response => {\r\n      setPoints(response.data);\r\n    }    );\r\n  }, []);*/\r\n\r\n  useEffect(() => {\r\n    api.get('items').then(response => {\r\n      console.log(response.data);\r\n      \r\n      setItems(response.data);\r\n    });\r\n  }, []);\r\n\r\n  function handleSelectItem(id: number){\r\n    const alreadySelected = selectedItems.findIndex(item => item === id);\r\n    if(alreadySelected>=0){\r\n      const filtereditems = selectedItems.filter(item => item !== id);\r\n      setSelectedItems(filtereditems);\r\n    } else{\r\n    setSelectedItems([...selectedItems, id]);\r\n    }\r\n  }\r\n\r\n  function handleBack() {\r\n    navigation.goBack();\r\n  }\r\n  function handleToDetail() {\r\n    navigation.navigate(\"Detail\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <View style={styles.container}>\r\n   \r\n      </View>\r\n      <View style={styles.itemsContainer}>\r\n   \r\n      </View>\r\n    </>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    paddingHorizontal: 32,\r\n    paddingTop: 20 + Constants.statusBarHeight,\r\n  },\r\n\r\n  title: {\r\n    fontSize: 20,\r\n    fontFamily: \"Ubuntu_700Bold\",\r\n    marginTop: 24,\r\n  },\r\n\r\n  description: {\r\n    color: \"#6C6C80\",\r\n    fontSize: 16,\r\n    marginTop: 4,\r\n    fontFamily: \"Roboto_400Regular\",\r\n  },\r\n\r\n  mapContainer: {\r\n    flex: 1,\r\n    width: \"100%\",\r\n    borderRadius: 10,\r\n    overflow: \"hidden\",\r\n    marginTop: 16,\r\n  },\r\n\r\n  map: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n\r\n  mapMarker: {\r\n    width: 90,\r\n    height: 80,\r\n  },\r\n\r\n  mapMarkerContainer: {\r\n    width: 90,\r\n    height: 70,\r\n    backgroundColor: \"#34CB79\",\r\n    flexDirection: \"column\",\r\n    borderRadius: 8,\r\n    overflow: \"hidden\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  mapMarkerImage: {\r\n    width: 90,\r\n    height: 45,\r\n    resizeMode: \"cover\",\r\n  },\r\n\r\n  mapMarkerTitle: {\r\n    flex: 1,\r\n    fontFamily: \"Roboto_400Regular\",\r\n    color: \"#FFF\",\r\n    fontSize: 13,\r\n    lineHeight: 23,\r\n  },\r\n\r\n  itemsContainer: {\r\n    flexDirection: \"row\",\r\n    marginTop: 16,\r\n    marginBottom: 32,\r\n  },\r\n\r\n  item: {\r\n    backgroundColor: \"#fff\",\r\n    borderWidth: 2,\r\n    borderColor: \"#eee\",\r\n    height: 120,\r\n    width: 120,\r\n    borderRadius: 8,\r\n    paddingHorizontal: 16,\r\n    paddingTop: 20,\r\n    paddingBottom: 16,\r\n    marginRight: 8,\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  selectedItem: {\r\n    borderColor: \"#34CB79\",\r\n    borderWidth: 2,\r\n  },\r\n\r\n  itemTitle: {\r\n    fontFamily: \"Roboto_400Regular\",\r\n    textAlign: \"center\",\r\n    fontSize: 13,\r\n  },\r\n});\r\n\r\nexport default Points;\r\n"]},"metadata":{},"sourceType":"module"}