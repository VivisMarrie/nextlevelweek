{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Viviane\\\\Documents\\\\dev\\\\nextlevelweek\\\\mobile\\\\src\\\\pages\\\\Points\\\\index.tsx\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Constants from \"expo-constants\";\nimport { Feather as Icon } from \"@expo/vector-icons\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport MapView, { Marker } from \"react-native-maps\";\nimport { SvgUri } from \"react-native-svg\";\nimport * as Location from 'expo-location';\nimport api from \"../../services/api\";\n;\n\nvar Points = function Points() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      items = _useState2[0],\n      setItems = _useState2[1];\n\n  var _useState3 = useState([0, 0]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      initialPosition = _useState4[0],\n      setInitialPosition = _useState4[1];\n\n  var navigation = useNavigation();\n  useEffect(function () {\n    function loadPosition() {\n      var _await$Location$reque, status, location, _location$coords, latitude, longitude;\n\n      return _regeneratorRuntime.async(function loadPosition$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Location.requestPermissionsAsync());\n\n            case 2:\n              _await$Location$reque = _context.sent;\n              status = _await$Location$reque.status;\n\n              if (!(status !== 'granted')) {\n                _context.next = 7;\n                break;\n              }\n\n              Alert.alert(\"Alerta\", \"Precisamos da permissão de localização\");\n              return _context.abrupt(\"return\");\n\n            case 7:\n              _context.next = 9;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync());\n\n            case 9:\n              location = _context.sent;\n              _location$coords = location.coords, latitude = _location$coords.latitude, longitude = _location$coords.longitude;\n              setInitialPosition([latitude, longitude]);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n\n    loadPosition();\n  }, []);\n  useEffect(function () {\n    api.get('items').then(function (response) {\n      console.log(response.data);\n      setItems(response.data);\n    });\n  }, []);\n\n  function handleBack() {\n    navigation.goBack();\n  }\n\n  function handleToDetail() {\n    navigation.navigate(\"Detail\");\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: handleBack,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, React.createElement(Icon, {\n    name: \"arrow-left\",\n    size: 20,\n    color: \"#34cb79\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  })), React.createElement(Text, {\n    style: styles.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, \"Bem vindo.\"), React.createElement(Text, {\n    style: styles.description,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, \"Encontre no mapa um ponto de coleta.\"), React.createElement(View, {\n    style: styles.mapContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, initialPosition[0] !== 0 && React.createElement(MapView, {\n    loadingEnabled: initialPosition[0] === 0,\n    style: styles.map,\n    initialRegion: {\n      latitude: initialPosition[0],\n      longitude: initialPosition[1],\n      longitudeDelta: 0.014,\n      latitudeDelta: 0.014\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 49\n    }\n  }, React.createElement(Marker, {\n    style: styles.mapMarker,\n    onPress: handleToDetail,\n    coordinate: {\n      latitude: -27.2092052,\n      longitude: -14.640192\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.mapMarkerContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, React.createElement(Image, {\n    style: styles.mapMarkerImage,\n    source: {\n      uri: \"https://www.iconexperience.com/_img/v_collection_png/256x256/shadow/market_stand.png\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }), React.createElement(Text, {\n    style: styles.mapMarkerTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }, \"Mercado\")))))), React.createElement(View, {\n    style: styles.itemsContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }\n  }, React.createElement(ScrollView, {\n    horizontal: true,\n    contentContainerStyle: {\n      paddingHorizontal: 20\n    },\n    showsHorizontalScrollIndicator: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, items.map(function (item) {\n    return React.createElement(TouchableOpacity, {\n      key: String(item.id),\n      activeOpacity: 0.6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }\n    }, React.createElement(SvgUri, {\n      width: 42,\n      height: 42,\n      uri: item.image_url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }), React.createElement(Text, {\n      style: styles.itemTitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, item.name));\n  }))));\n};\n\nexport default Points;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingHorizontal: 32,\n    paddingTop: 20 + Constants.statusBarHeight\n  },\n  title: {\n    fontSize: 20,\n    fontFamily: \"Ubuntu_700Bold\",\n    marginTop: 24\n  },\n  description: {\n    color: \"#6C6C80\",\n    fontSize: 16,\n    marginTop: 4,\n    fontFamily: \"Roboto_400Regular\"\n  },\n  mapContainer: {\n    flex: 1,\n    width: \"100%\",\n    borderRadius: 10,\n    overflow: \"hidden\",\n    marginTop: 16\n  },\n  map: {\n    width: \"100%\",\n    height: \"100%\"\n  },\n  mapMarker: {\n    width: 90,\n    height: 80\n  },\n  mapMarkerContainer: {\n    width: 90,\n    height: 70,\n    backgroundColor: \"#34CB79\",\n    flexDirection: \"column\",\n    borderRadius: 8,\n    overflow: \"hidden\",\n    alignItems: \"center\"\n  },\n  mapMarkerImage: {\n    width: 90,\n    height: 45,\n    resizeMode: \"cover\"\n  },\n  mapMarkerTitle: {\n    flex: 1,\n    fontFamily: \"Roboto_400Regular\",\n    color: \"#FFF\",\n    fontSize: 13,\n    lineHeight: 23\n  },\n  itemsContainer: {\n    flexDirection: \"row\",\n    marginTop: 16,\n    marginBottom: 32\n  },\n  item: {\n    backgroundColor: \"#fff\",\n    borderWidth: 2,\n    borderColor: \"#eee\",\n    height: 120,\n    width: 120,\n    borderRadius: 8,\n    paddingHorizontal: 16,\n    paddingTop: 20,\n    paddingBottom: 16,\n    marginRight: 8,\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    textAlign: \"center\"\n  },\n  selectedItem: {\n    borderColor: \"#34CB79\",\n    borderWidth: 2\n  },\n  itemTitle: {\n    fontFamily: \"Roboto_400Regular\",\n    textAlign: \"center\",\n    fontSize: 13\n  }\n});","map":{"version":3,"sources":["C:/Users/Viviane/Documents/dev/nextlevelweek/mobile/src/pages/Points/index.tsx"],"names":["React","useState","useEffect","Constants","Feather","Icon","useNavigation","MapView","Marker","SvgUri","Location","api","Points","items","setItems","initialPosition","setInitialPosition","navigation","loadPosition","requestPermissionsAsync","status","Alert","alert","getCurrentPositionAsync","location","coords","latitude","longitude","get","then","response","console","log","data","handleBack","goBack","handleToDetail","navigate","styles","container","title","description","mapContainer","map","longitudeDelta","latitudeDelta","mapMarker","mapMarkerContainer","mapMarkerImage","uri","mapMarkerTitle","itemsContainer","paddingHorizontal","item","String","id","image_url","itemTitle","name","StyleSheet","create","flex","paddingTop","statusBarHeight","fontSize","fontFamily","marginTop","color","width","borderRadius","overflow","height","backgroundColor","flexDirection","alignItems","resizeMode","lineHeight","marginBottom","borderWidth","borderColor","paddingBottom","marginRight","justifyContent","textAlign","selectedItem"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, Image, Alert } from \"react-native\";\r\nimport Constants from \"expo-constants\";\r\nimport { Feather as Icon } from \"@expo/vector-icons\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport MapView, { Marker } from \"react-native-maps\";\r\nimport { SvgUri } from \"react-native-svg\";\r\nimport * as Location from 'expo-location';\r\nimport api from '../../services/api';\r\n\r\n\r\n/*interface Point {\r\n  id: number;\r\n  name: string;\r\n  image_url: string;\r\n  lat: number;\r\n  lgt: number;\r\n};*/\r\n\r\ninterface Item {\r\n  id: number;\r\n  name: string;\r\n  image_url: string;\r\n};\r\n\r\nconst Points = () => { \r\n\r\n  const [items, setItems] = useState<Item[]>([]);  \r\n // const [selectedItems, setSelectedItems] = useState<number[]>([]);\r\n  const [initialPosition, setInitialPosition] = useState<[number, number]>([0,0]);\r\n // const [points, setPoints] = useState<Point[]>([]);\r\n\r\n  const navigation = useNavigation();\r\n\r\n  useEffect(() => {\r\n    async function loadPosition(){\r\n      const {status} = await Location.requestPermissionsAsync();\r\n      if(status !=='granted'){\r\n        Alert.alert(\"Alerta\", \"Precisamos da permissão de localização\");\r\n        return;\r\n      }\r\n      const location = await Location.getCurrentPositionAsync();\r\n\r\n      const { latitude, longitude} = location.coords;\r\n\r\n      setInitialPosition([latitude, longitude]);\r\n    }\r\n\r\n    loadPosition();\r\n\r\n  }, []);\r\n\r\n  /*useEffect(() => {\r\n    api.get('points', {\r\n      params: {\r\n        city: 'SP',\r\n        uf: 'SP',\r\n        items: [1,2]\r\n      }\r\n    }).then( response => {\r\n      setPoints(response.data);\r\n    }    );\r\n  }, []);*/\r\n\r\n  useEffect(() => {\r\n    api.get('items').then(response => {\r\n      console.log(response.data);\r\n      \r\n      setItems(response.data);\r\n    });\r\n  }, []);\r\n\r\n  /*function handleSelectItem(id: number){\r\n    const alreadySelected = selectedItems.findIndex(item => item === id);\r\n    if(alreadySelected>=0){\r\n      const filtereditems = selectedItems.filter(item => item !== id);\r\n      setSelectedItems(filtereditems);\r\n    } else{\r\n    setSelectedItems([...selectedItems, id]);\r\n    }\r\n  }*/\r\n\r\n  function handleBack() {\r\n    navigation.goBack();\r\n  }\r\n\r\n  function handleToDetail() {\r\n    navigation.navigate(\"Detail\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <View style={styles.container}>\r\n      <TouchableOpacity onPress={handleBack}>\r\n          <Icon name=\"arrow-left\" size={20} color=\"#34cb79\" />\r\n        </TouchableOpacity>\r\n\r\n        <Text style={styles.title}>Bem vindo.</Text>\r\n        <Text style={styles.description}>\r\n          Encontre no mapa um ponto de coleta.\r\n        </Text>\r\n        <View style={styles.mapContainer}>\r\n        {initialPosition[0] !== 0 && (          <MapView\r\n          loadingEnabled={initialPosition[0] ===0}\r\n            style={styles.map}\r\n            initialRegion={{\r\n              latitude: initialPosition[0],\r\n              longitude: initialPosition[1],\r\n              longitudeDelta: 0.014,\r\n              latitudeDelta: 0.014,\r\n            }}\r\n          >\r\n            <Marker\r\n              style={styles.mapMarker}\r\n              onPress={handleToDetail}\r\n              coordinate={{ latitude: -27.2092052, longitude: -14.640192 }}\r\n            >\r\n              <View style={styles.mapMarkerContainer}>\r\n                <Image\r\n                  style={styles.mapMarkerImage}\r\n                  source={{\r\n                    uri:\r\n                      \"https://www.iconexperience.com/_img/v_collection_png/256x256/shadow/market_stand.png\",\r\n                  }}\r\n                />\r\n                <Text style={styles.mapMarkerTitle}>Mercado</Text>\r\n              </View>\r\n            </Marker>\r\n          </MapView>) }\r\n        </View>\r\n      </View>\r\n      <View style={styles.itemsContainer}>\r\n      <ScrollView\r\n          horizontal\r\n          contentContainerStyle={{ paddingHorizontal: 20 }}\r\n          showsHorizontalScrollIndicator={false}\r\n        >\r\n        {items.map(item =>(\r\n          <TouchableOpacity key={String(item.id)} \r\n          activeOpacity={0.6}\r\n          >\r\n            <SvgUri width={42} height={42} uri={item.image_url} />\r\n            <Text style={styles.itemTitle}>{item.name}</Text>\r\n          </TouchableOpacity>       \r\n        )\r\n\r\n        )}           \r\n        </ScrollView>\r\n      </View>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Points;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    paddingHorizontal: 32,\r\n    paddingTop: 20 + Constants.statusBarHeight,\r\n  },\r\n\r\n  title: {\r\n    fontSize: 20,\r\n    fontFamily: \"Ubuntu_700Bold\",\r\n    marginTop: 24,\r\n  },\r\n\r\n  description: {\r\n    color: \"#6C6C80\",\r\n    fontSize: 16,\r\n    marginTop: 4,\r\n    fontFamily: \"Roboto_400Regular\",\r\n  },\r\n\r\n  mapContainer: {\r\n    flex: 1,\r\n    width: \"100%\",\r\n    borderRadius: 10,\r\n    overflow: \"hidden\",\r\n    marginTop: 16,\r\n  },\r\n\r\n  map: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n\r\n  mapMarker: {\r\n    width: 90,\r\n    height: 80,\r\n  },\r\n\r\n  mapMarkerContainer: {\r\n    width: 90,\r\n    height: 70,\r\n    backgroundColor: \"#34CB79\",\r\n    flexDirection: \"column\",\r\n    borderRadius: 8,\r\n    overflow: \"hidden\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  mapMarkerImage: {\r\n    width: 90,\r\n    height: 45,\r\n    resizeMode: \"cover\",\r\n  },\r\n\r\n  mapMarkerTitle: {\r\n    flex: 1,\r\n    fontFamily: \"Roboto_400Regular\",\r\n    color: \"#FFF\",\r\n    fontSize: 13,\r\n    lineHeight: 23,\r\n  },\r\n\r\n  itemsContainer: {\r\n    flexDirection: \"row\",\r\n    marginTop: 16,\r\n    marginBottom: 32,\r\n  },\r\n\r\n  item: {\r\n    backgroundColor: \"#fff\",\r\n    borderWidth: 2,\r\n    borderColor: \"#eee\",\r\n    height: 120,\r\n    width: 120,\r\n    borderRadius: 8,\r\n    paddingHorizontal: 16,\r\n    paddingTop: 20,\r\n    paddingBottom: 16,\r\n    marginRight: 8,\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  selectedItem: {\r\n    borderColor: \"#34CB79\",\r\n    borderWidth: 2,\r\n  },\r\n\r\n  itemTitle: {\r\n    fontFamily: \"Roboto_400Regular\",\r\n    textAlign: \"center\",\r\n    fontSize: 13,\r\n  },\r\n});"]},"metadata":{},"sourceType":"module"}